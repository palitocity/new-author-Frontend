!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["for-widgets-server"]=t():e["for-widgets-server"]=t()}(this,function(){var e={86854:function(e,t,o){var r=o(31309),i=o(57229),n=o(9940),a=o(6624),l=o(72592);function s(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=n,s.prototype.has=a,s.prototype.set=l,e.exports=s},83654:function(e,t,o){var r=o(90541),i=o(1485),n=o(56916),a=o(11680),l=o(2e3);function s(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=n,s.prototype.has=a,s.prototype.set=l,e.exports=s},62310:function(e,t,o){e.exports=o(50695)(o(6114),"Map")},25046:function(e,t,o){var r=o(73853),i=o(70397),n=o(21508),a=o(22096),l=o(38976);function s(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=n,s.prototype.has=a,s.prototype.set=l,e.exports=s},55878:function(e,t,o){e.exports=o(6114).Symbol},93291:function(e){e.exports=function(e,t){for(var o=-1,r=null==e?0:e.length,i=Array(r);++o<r;)i[o]=t(e[o],o,e);return i}},81782:function(e,t,o){var r=o(30273);e.exports=function(e,t){for(var o=e.length;o--;)if(r(e[o][0],t))return o;return -1}},94183:function(e,t,o){var r=o(48162),i=o(38996);e.exports=function(e,t){t=r(t,e);for(var o=0,n=t.length;null!=e&&o<n;)e=e[i(t[o++])];return o&&o==n?e:void 0}},77647:function(e,t,o){var r=o(55878),i=o(82746),n=o(74985),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):n(e)}},43804:function(e,t,o){var r=o(41155),i=o(72059),n=o(39808),a=o(88982),l=/^\[object .+?Constructor\]$/,s=Object.prototype,d=Function.prototype.toString,c=s.hasOwnProperty,u=RegExp("^"+d.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!n(e)||i(e))&&(r(e)?u:l).test(a(e))}},43759:function(e,t,o){var r=o(55878),i=o(93291),n=o(39434),a=o(24839),l=1/0,s=r?r.prototype:void 0,d=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(n(t))return i(t,e)+"";if(a(t))return d?d.call(t):"";var o=t+"";return"0"==o&&1/t==-l?"-0":o}},48162:function(e,t,o){var r=o(39434),i=o(72543),n=o(89769),a=o(22703);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:n(a(e))}},16218:function(e,t,o){e.exports=o(6114)["__core-js_shared__"]},31435:function(e,t,o){e.exports="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g},57144:function(e,t,o){var r=o(26535);e.exports=function(e,t){var o=e.__data__;return r(t)?o["string"==typeof t?"string":"hash"]:o.map}},50695:function(e,t,o){var r=o(43804),i=o(1935);e.exports=function(e,t){var o=i(e,t);return r(o)?o:void 0}},82746:function(e,t,o){var r=o(55878),i=Object.prototype,n=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=n.call(e,l),o=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[l]=o:delete e[l]),i}},1935:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},31309:function(e,t,o){var r=o(54277);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},57229:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},9940:function(e,t,o){var r=o(54277),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return i.call(t,e)?t[e]:void 0}},6624:function(e,t,o){var r=o(54277),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},72592:function(e,t,o){var r=o(54277);e.exports=function(e,t){var o=this.__data__;return this.size+=+!this.has(e),o[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},72543:function(e,t,o){var r=o(39434),i=o(24839),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var o=typeof e;return!!("number"==o||"symbol"==o||"boolean"==o||null==e||i(e))||a.test(e)||!n.test(e)||null!=t&&e in Object(t)}},26535:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},72059:function(e,t,o){var r,i=o(16218),n=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!n&&n in e}},90541:function(e){e.exports=function(){this.__data__=[],this.size=0}},1485:function(e,t,o){var r=o(81782),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,o=r(t,e);return!(o<0)&&(o==t.length-1?t.pop():i.call(t,o,1),--this.size,!0)}},56916:function(e,t,o){var r=o(81782);e.exports=function(e){var t=this.__data__,o=r(t,e);return o<0?void 0:t[o][1]}},11680:function(e,t,o){var r=o(81782);e.exports=function(e){return r(this.__data__,e)>-1}},2e3:function(e,t,o){var r=o(81782);e.exports=function(e,t){var o=this.__data__,i=r(o,e);return i<0?(++this.size,o.push([e,t])):o[i][1]=t,this}},73853:function(e,t,o){var r=o(86854),i=o(83654),n=o(62310);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(n||i),string:new r}}},70397:function(e,t,o){var r=o(57144);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},21508:function(e,t,o){var r=o(57144);e.exports=function(e){return r(this,e).get(e)}},22096:function(e,t,o){var r=o(57144);e.exports=function(e){return r(this,e).has(e)}},38976:function(e,t,o){var r=o(57144);e.exports=function(e,t){var o=r(this,e),i=o.size;return o.set(e,t),this.size+=+(o.size!=i),this}},4817:function(e,t,o){var r=o(20143);e.exports=function(e){var t=r(e,function(e){return 500===o.size&&o.clear(),e}),o=t.cache;return t}},54277:function(e,t,o){e.exports=o(50695)(Object,"create")},74985:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6114:function(e,t,o){var r=o(31435),i="object"==typeof self&&self&&self.Object===Object&&self;e.exports=r||i||Function("return this")()},89769:function(e,t,o){var r=o(4817),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g;e.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,o,r,i){t.push(r?i.replace(n,"$1"):o||e)}),t})},38996:function(e,t,o){var r=o(24839),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},88982:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},30273:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},60871:function(e,t,o){var r=o(94183);e.exports=function(e,t,o){var i=null==e?void 0:r(e,t);return void 0===i?o:i}},39434:function(e){e.exports=Array.isArray},41155:function(e,t,o){var r=o(77647),i=o(39808);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},39808:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},79127:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},24839:function(e,t,o){var r=o(77647),i=o(79127);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},20143:function(e,t,o){var r=o(25046);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var o=function(){var r=arguments,i=t?t.apply(this,r):r[0],n=o.cache;if(n.has(i))return n.get(i);var a=e.apply(this,r);return o.cache=n.set(i,a)||n,a};return o.cache=new(i.Cache||r),o}i.Cache=r,e.exports=i},22703:function(e,t,o){var r=o(43759);e.exports=function(e){return null==e?"":r(e)}}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return!function(){"use strict";let e,t,i,n;o.d(r,{default:function(){return w}});encodeURIComponent("&");let a={confirmEmail:"E-mail does not match",pleaseWait:"Please wait...",validateEmail:"You need to validate this e-mail",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",required:"This field is required.",requireOne:"At least one field required.",requireEveryRow:"Every row is required.",requireEveryCell:"Every cell is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",cyrillic:"This field can only contain cyrillic characters",url:"This field can only contain a valid URL",currency:"This field can only contain currency values.",fillMask:"Field value must fill mask.",uploadExtensions:"You can only upload following files:",noUploadExtensions:"File has no extension file type (e.g. .txt, .png, .jpeg)",uploadFilesize:"File size cannot be bigger than:",uploadFilesizemin:"File size cannot be smaller than:",gradingScoreError:"Score total should only be less than or equal to",inputCarretErrorA:"Input should not be less than the minimum value:",inputCarretErrorB:"Input should not be greater than the maximum value:",maxDigitsError:"The maximum digits allowed is",minCharactersError:"The number of characters should not be less than the minimum value:",maxCharactersError:"The number of characters should not be more than the maximum value:",freeEmailError:"Free email accounts are not allowed",minSelectionsError:"The minimum required number of selections is ",maxSelectionsError:"The maximum number of selections allowed is ",pastDatesDisallowed:"Date must not be in the past.",dateLimited:"This date is unavailable.",dateInvalid:"This date is not valid. The date format is {format}",dateInvalidSeparate:"This date is not valid. Enter a valid {element}.",ageVerificationError:"You must be older than {minAge} years old to submit this form.",multipleFileUploads_typeError:"{file} has invalid extension. Only {extensions} are allowed.",multipleFileUploads_sizeError:"{file} is too large, maximum file size is {sizeLimit}.",multipleFileUploads_minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",multipleFileUploads_emptyError:"{file} is empty, please select files again without it.",multipleFileUploads_uploadFailed:"File upload failed, please remove it and upload the file again.",multipleFileUploads_onLeave:"The files are being uploaded, if you leave now the upload will be cancelled.",multipleFileUploads_fileLimitError:"Only {fileLimit} file uploads allowed.",dragAndDropFilesHere_infoMessage:"Drag and drop files here",chooseAFile_infoMessage:"Choose a file",maxFileSize_infoMessage:"Max. file size",generalError:"There are errors on the form. Please fix them before continuing.",generalPageError:"There are errors on this page. Please fix them before continuing.",wordLimitError:"Too many words. The limit is",wordMinLimitError:"Too few words.  The minimum is",characterLimitError:"Too many Characters.  The limit is",characterMinLimitError:"Too few characters. The minimum is",ccInvalidNumber:"Credit Card Number is invalid.",ccInvalidCVC:"CVC number is invalid.",ccInvalidExpireDate:"Expire date is invalid.",ccInvalidExpireMonth:"Expiration month is invalid.",ccInvalidExpireYear:"Expiration year is invalid.",ccMissingDetails:"Please fill up the credit card details.",ccMissingProduct:"Please select at least one product.",ccMissingDonation:"Please enter numeric values for donation amount.",disallowDecimals:"Please enter a whole number.",restrictedDomain:"This domain is not allowed",ccDonationMinLimitError:"Minimum amount is {minAmount} {currency}",requiredLegend:"All fields marked with * are required and must be filled.",geoPermissionTitle:"Permission Denied",geoPermissionDesc:"Check your browser's privacy settings.",geoNotAvailableTitle:"Position Unavailable",geoNotAvailableDesc:"Location provider not available. Please enter the address manually.",geoTimeoutTitle:"Timeout",geoTimeoutDesc:"Please check your internet connection and try again.",selectedTime:"Selected Time",formerSelectedTime:"Former Time",cancelAppointment:"Cancel Appointment",cancelSelection:"Cancel Selection",confirmSelection:"Confirm Selection",noSlotsAvailable:"No slots available",slotUnavailable:"{time} on {date} has been selected is unavailable. Please select another slot.",multipleError:"There are {count} errors on this page. Please correct them before moving on.",oneError:"There is {count} error on this page. Please correct it before moving on.",doneMessage:"Well done! All errors are fixed.",invalidTime:"Enter a valid time",doneButton:"Done",reviewSubmitText:"Review and Submit",nextButtonText:"Next",prevButtonText:"Previous",seeErrorsButton:"See Errors",notEnoughStock:"Not enough stock for the current selection",notEnoughStock_remainedItems:"Not enough stock for the current selection ({count} items left)",soldOut:"Sold Out",justSoldOut:"Just Sold Out",selectionSoldOut:"Selection Sold Out",subProductItemsLeft:"({count} items left)",startButtonText:"START",submitButtonText:"Submit",submissionLimit:"Sorry! Only one entry is allowed. <br> Multiple submissions are disabled for this form.",reviewBackText:"Back to Form",seeAllText:"See All",progressMiddleText:"of",fieldError:"field has an error.",error:"Error"};var l,s,d,c=o(60871),u=o.n(c);let m=(e,t)=>u()(window.__jfrouter,e,t),f=()=>m("ACTIVE_APP","");function p(){var e=!!window.CardForm;function t(e){if(e.type&&e.type.match(/checkbox|radio/)){var t=window.scrollX,o=window.scrollY;["click","change"].forEach(t=>{e.triggerEvent(t)}),o!==window.scrollY&&window.scrollTo(t,o);return}e.triggerEvent("change")}return{parse:function(o){window.$H(o).each(o=>{var r=o.key,i=o.value;try{switch(i.type){case"control_scale":case"control_radio":if(void 0==i.name)var n=window.$$(`#id_${r} input[type="radio"]`);else var n=document.getElementsByName(`q${r}_${"control_radio"==i.type||"control_scale"==i.type?i.name:r}`);window.$A(n).each(e=>{e.value==i.value?(e.checked=!0,e.writeAttribute("checked","checked"),t(e),e.checked=!0):null!=i.items.other&&(window.$(`other_${r}`).checked=!0,window.$(`other_${r}`).writeAttribute("checked","checked"),window.$(`input_${r}`).value=i.items.other,t(window.$(`input_${r}`)),window.$(`input_${r}`).checked=!0)});break;case"control_checkbox":var a=window.$$(`#id_${r} input[type="checkbox"]`);window.$A(a).each(e=>{e.checked=!1,e.removeAttribute("checked"),"[object Array]"===Object.prototype.toString.call(i.items)?i.items.include(e.value)&&(e.checked=!0,e.writeAttribute("checked","checked"),t(e),e.checked=!0):Object.values(i.items).include(e.value)?(e.checked=!0,e.writeAttribute("checked","checked"),t(e),e.checked=!0):null!=i.items.other&&(window.$(`other_${r}`).checked=!0,window.$(`other_${r}`).writeAttribute("checked","checked"),window.$(`input_${r}`).disabled=!1,window.$(`input_${r}`).value=i.items.other,t(e),window.$(`input_${r}`).checked=!0)});break;case"control_yesno":var l=window.$$(`#id_${r} input[type="radio"]`);window.$A(l).each(e=>{e.value===i.value&&(e.checked=!0,e.writeAttribute("checked","checked"),t(e),e.checked=!0)});break;case"control_dropdown":var s=window.$(`input_${r}`);if(s){if(e)s.up().querySelector("div.jfInput-dropdown").classList.contains("isMultiple")?i.items[0].split(",").forEach(e=>{s.querySelector(`option[value="${e}"]`).selected=!0}):s.putValue(i.value);else if(s.hasAttribute("multiple")){var d=window.$$(`#id_${r} option`);window.$A(d).each(e=>{i.items.include(e.value)&&(e.selected=!0)})}else s.putValue(i.value);s.triggerEvent("change")}break;case"control_rating":if(e){var c=document.getElementById(`input_${r}_${i.value}`);c.checked=!0,t(c)}else window.$(`input_${r}`)&&window.$(`input_${r}`).setRating(i.value);break;case"control_datetime":case"control_fullname":if(window.$H(i.items).each(e=>{window.$(`${e.key}_${r}`)&&(window.$(`${e.key}_${r}`).value=e.value||"",window.$(`${e.key}_${r}`).triggerEvent("change"))}),window.$(`lite_mode_${r}`)){var u=i.items;"year"in u&&"month"in u&&"day"in u&&""!==u.year&&""!==u.month&&""!==u.day&&JotForm.formatDate({date:new Date(u.year,u.month-1,u.day),dateField:window.$(`id_${r}`)})}break;case"control_emojislider":for(var m,f=document.getElementById(`cid_${r}`),l=f.querySelectorAll("input[type=radio]"),p=0,g=0;m=l[g];g++)m.value===i.value&&(m.checked=!0,p=g);var v=f.querySelector(".js-emojiSlider");v.addClassName("isFilled");var w=v.querySelectorAll(".js-emojiScaleSep")[p].getAttribute("data-scale"),h=v.querySelector(".js-emojiSlider-faceList");h.style.width=`${w}%`;var y=h.querySelectorAll(".js-emojiFaces");y.forEach(e=>{e.removeClassName("isVisible")}),y[p].addClassName("isVisible");break;case"control_phone":case"control_birthdate":case"control_address":case"control_time":if(window.$H(i.items).each(e=>{window.$(`input_${r}_${e.key}`)&&window.$(`input_${r}_${e.key}`).putValue(e.value)}),"control_time"===i.type&&window.$(`input_${r}_hourSelect`)){var b=i.items.hourSelect?i.items.hourSelect:"";if(b&&window.$(`input_${r}_hourSelect`).triggerEvent){if(window.$(`input_${r}_timeInput`)){1===b.length&&b<10&&(b=`0${b}`,window.$(`input_${r}_hourSelect`).putValue(b));var _=window.$(`input_${r}_minuteSelect`).value;1===_.length&&_<10&&(_=`0${_}`),window.$(`input_${r}_timeInput`).putValue(`${b}:${_}`)}else 2===b.length&&"0"==b.charAt(0)&&(b=b.slice(1),window.$(`input_${r}_hourSelect`).putValue(b));window.$(`input_${r}_hourSelect`).triggerEvent("change")}}break;case"control_email":var F=window.$(`input_${r}`);if(F){F.putValue(i.value),F.triggerEvent("change");var E=window.$(`input_${r}_confirm`);E&&(E.putValue(i.value),E.triggerEvent("change"))}break;case"control_textarea":if(i.value.length>0){var x=window.$(`input_${r}`);x.up("div").down(".nicEdit-main")&&nicEditors&&nicEditors.findEditor(`input_${r}`)&&nicEditors.findEditor(`input_${r}`).setContent(i.value),x.putValue(i.value),t(x),e&&Array.prototype.forEach.call(CardForm.cards,(e,t)=>{e.question.id===r&&e.markdownEditor&&e.markdownEditor.setHtmlFromMarkdown&&e.markdownEditor.setHtmlFromMarkdown()}),x.hasClassName("form-custom-hint")&&(x.removeClassName("form-custom-hint").removeAttribute("spellcheck"),x.hasContent=!0,x.run("focus"))}else x.hasClassName("form-custom-hint")&&x.run("blur");break;default:window.$(`input_${r}`)&&(window.$(`input_${r}`).putValue(i.value),window.$(`input_${r}`).triggerEvent("change"))}}catch(e){}})},clear:function(o){o.forEach(o=>{var{qid:r}=o,i=window.$(`input_${r}`),{type:n}=o;switch(n){case"control_scale":case"control_radio":var a=window.$$(`#id_${r} input[type="radio"]`);window.$A(a).each(e=>{e.checked=!1,e.removeAttribute("checked"),t(e)});break;case"control_checkbox":var l=window.$$(`#id_${r} input[type="checkbox"]`);window.$A(l).each(e=>{e.checked=!1,e.removeAttribute("checked"),t(e)});break;case"control_yesno":case"control_emojislider":break;case"control_rating":if(e){var a=window.$$(`#id_${r} input[type="radio"]`);window.$A(a).each(e=>{e.checked&&(e.checked=!1,e.click())}),window.$$(`#id_${r} li`).invoke("removeClassName","checked"),window.$$(`#id_${r} input[type="hidden"]`).last().putValue("")}else window.$(`input_${r}`).setRating("");break;case"control_datetime":case"control_fullname":window.$$(`input[id*=_${r}]`).each(e=>{e.putValue("")});break;case"control_phone":case"control_birthdate":case"control_address":case"control_time":window.$$(`[id*=input_${r}]`).each(e=>{e.putValue("")}),"control_time"===n&&window.$(`input_${r}_hourSelect`)&&window.$(`input_${r}_hourSelect`).triggerEvent&&window.$(`input_${r}_hourSelect`).triggerEvent("change");break;default:if(i&&(i.putValue(""),i.triggerEvent("change"),"control_email"===n)){var s=window.$(`input_${r}_confirm`);s&&(s.putValue(""),s.triggerEvent("change"))}}})},generateCtrlItems:function(e,t){var o={};switch(t=`${t}`,e){case"control_fullname":var r=t.replace(/^\s+|\s+$/g,"");o={first:(r=r.split(/\s+/g))[0],last:r[1]},3==r.length&&(o.middle=r[1],o.last=r[2]);break;case"control_checkbox":case"control_dropdown":o=t.split(/\r\n|\r|\n|\,|\<br\>/g);break;case"control_phone":var i=t.split(/\s+/g);o={area:i[0],phone:i[1],full:t};break;case"control_time":if(/^([0]?\d|[1][0-2]):([0-5]\d)\s?(?:AM|PM)$/.test(t)||/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/.test(t)){var n=t.split(" ");if(n.length>0){var a=n[0].split(":");o={ampm:n[1],hourSelect:a[0],minuteSelect:a[1]}}}}return o}}}document.addEventListener("DOMContentLoaded",()=>{if("undefined"==typeof JotForm||!JotForm.EventObserver)return;let e=document.querySelector("form.jotform-form");function t(e){e.valid=document.querySelectorAll('.custom-field-frame[data-type="iframe"]').length===(JCFServerCommon.submitFrames||[]).length,JotForm.debug&&console.log("allWidgetsAreValid init: e.valid: ",e.valid),JCFServerCommon.submitEvents||(JCFServerCommon.submitEvents={}),JCFServerCommon.submitEvents[e.eventId]=e}e instanceof HTMLFormElement&&(Object.defineProperty(t,"name",{enumerable:!1,configurable:!1,writable:!1,value:"allWidgetsAreValid"}),e.addEventListener("submit",t))});var g=(l=function(e){e.submit()},s=["maloneyproperties.jotform.com"].indexOf(window.location.host)>-1?300:50,d=null,function(){var e=this,t=arguments;clearTimeout(d),d=setTimeout(()=>{l.apply(e,t)},s)}),v=function(e){var t,r,i,n,l,s,d=document.getElementById(`customFieldFrame_${e}`),c=document.documentElement.clientHeight,u=document.documentElement.clientWidth,v=window&&window.newDefaultTheme||"";let w={id:e,widgetName:null!=(s=null==d||null==(l=d.src.split("jotform.io/"))||null==(n=l[1])?void 0:n.split("/")[0].toLowerCase())?s:"",validationEvent:null},h={get allWidgetsSubmitted(){return document.querySelectorAll('.custom-field-frame[data-type="iframe"]').length===(JCFServerCommon.submitFrames||[]).length},get validationEvent(){return w.validationEvent},get allWidgetsSubmittedEvent(){let e=h.validationEvent;if(null===e||!window.JCFServerCommon.submitEvents)return;let t=e.eventId;return window.JCFServerCommon.submitEvents[t]},set validationEvent(event){w.validationEvent=event}};var y=void 0==JotForm.forms[0]||void 0===JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];if(~["241261768412051","70261670492960","62754049811963","62261204289958","62702584435962","62802961818967","72134468218962"].indexOf(y.id)&&(JotForm.debug=!0),!d.hasClassName("custom-field-frame-rendered")){JotForm.debug&&console.log("Not rendered yet for",e);return}if(t=e,r=!1,(i=document.getElementById(`customFieldFrame_${t}`)).hasAttribute("data-type")&&"oembed"===i.readAttribute("data-type")&&(r=!0),r)return;JCFServerCommon.frames[e]={},JCFServerCommon.frames[e].obj=d;var{src:b}=d;JCFServerCommon.frames[e].src=b,JCFServerCommon.submitFrames=[];var _=!0,F=!1;function E(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0}function x(){return 0===$$(".form-line-error").length}function S(e){try{JSON.parse(e)}catch(e){return!1}return!0}function J(e){if(null==e)return!0;if(e.constructor===Array||e.constructor===String)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function C(e,t,o){var r=b;void 0!==o&&(r=o);var i=document.getElementById(`customFieldFrame_${t}`);null!==i&&(-1!=navigator.userAgent.indexOf("Firefox")?XD.postMessage(e,r,getIframeWindow(i)):void 0!==E()?XD.postMessage(e,r,i):XD.postMessage(e,r,getIframeWindow(i)))}function O(){var t=document.getElementById(`widget_settings_${e}`);return t?t.value:null}function q(e){var t=document.getElementById(`customFieldFrame_${e}`);return!!t.hasClassName("frame-ready")||!!t.retrieve("frame-ready")}window.sendMessage2Widget=C,window.onresize=function(){C(JSON.stringify({type:"frame:resize",frameSizes:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),e)};let k=window&&window.JotForm.extendsNewTheme||"",I=o.g.location.search.split("?").join("");function j(t,r){var i,n,a,l,s=document.querySelector(".form-all"),d=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("background-color"):getStyle(s,"background"),c=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("font-family"):getStyle(s,"font-family"),u="cardform"==window.FORM_MODE||"card"===window.buildermode,p=!!f()&&f(),g="1"===m("IS_EU","0")||!!JotForm.forwardToEu,v="1"===m("IS_HIPAA","0")||!!JotForm.hipaa;if(void 0!==window.JotForm.uploadServerURL)var w=window.JotForm.uploadServerURL;var h=window&&window.newDefaultTheme||"";!h&&window.JotForm.newDefaultTheme&&(h="v2");var y=window&&window.JotForm.extendsNewTheme||"",b={type:"ready",qid:`${t}`,isEditMode:window.JotForm.isEditMode(),sid:window.JotForm.submissionID,formID:document.getElementsByName("formID")[0].value,required:document.getElementById(`id_${t}`).className.indexOf("jf-required")>-1,static:!!((i=document.getElementById(`input_${t}`))&&i.hasClassName("widget-static")),isWidgetLabelEnabled:!!(n=document.getElementById(`label_${t}`))&&n.className.indexOf("form-label")>-1,qlabel:(a=document.getElementById(`label_${t}`))&&a.textContent?a.textContent:"",jotformNext:window.location.href.indexOf("jotformNext=1")>-1||1==window.isComingFromJotFormNext,cardform:u,background:d,fontFamily:c,origin:window.location.origin||`${window.location.protocol}//${window.location.hostname}${window.location.port?`:${window.location.port}`:""}`,enterprise:JotForm.enterprise,themeVersion:h,isExtendedTheme:y,isEu:g,isHipaa:v,isApp:p,lang:document.documentElement.lang,uploadServerURL:w};r&&(b.type=r);var _=O();_&&"[]"!==decodeURIComponent(_)&&(b.settings=_);var F=(l=document.getElementById(`widget_finalhtml_${e}`))?l.value:null;F&&(b.finalHTML=F);var E=document.getElementById(`customFieldFrame_${t}`);if(u&&E&&"function"==typeof E.up){var x=E.up(".jfField")||!1,S=!!x&&"function"==typeof x.getAttribute&&x.getAttribute("data-widget-id");S&&(b.widgetID=S)}var J=E.readAttribute("data-width")||E.parentNode.clientWidth,q=E.readAttribute("data-height")||E.parentNode.clientHeight;function k(e,t){$(document.getElementById(`customFieldFrame_${e}`)).addClassName("frame-ready").store("frame-ready",!0),C(JSON.stringify(t),e)}b.width=parseInt(J),b.height=parseInt(q),b.viewWidth=E.parentNode.clientWidth,b.viewHeight=E.parentNode.clientHeight;var I=JotForm.isEditMode()||!!~window.location.href.indexOf("/edit/")||!!~window.location.href.indexOf("inlineEdit");if(JotForm.debug&&console.log("ready message inline",b),I)var j=0,T=setInterval(()=>{if(E.hasAttribute("data-value")||j>=5e3){let e;clearInterval(T),b.value=E.getAttribute("data-value"),JotForm.debug&&console.log("Ready message sent in",j,b),(e=E.getAttribute("data-client-id"),(b.enterprise||b.isHipaa)&&["529467003477f3512000001f","533a8c19a3f5fec35d00009a","5d493b3b3ecd623d69000045","535a49d40a05fdff5200002b"].includes(e))?(e=>{let t;try{(t=new URL(e,window.location.origin)).hostname=window.location.hostname,t=t.toString()}catch(o){t=e}return new Promise((e,r)=>{let i=new window.XMLHttpRequest;i.open("GET",t,!0),i.withCredentials=!0,i.responseType="blob",i.onerror=r,i.onload=()=>{let t=new o.g.FileReader;t.onloadend=()=>{"string"==typeof t.result&&("data:image"===t.result.substr(0,10)||"data:application/octet-stream"===t.result.substr(0,29))?e(t.result.replace("data:application/octet-stream","data:image/png")):r(Error("Blob is not an image"))},t.readAsDataURL(i.response)},i.send()})})(`/${b.value}?${new Date().getTime()}`).then(e=>{var o,r;return k(t,(o=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(t){var r;r=o[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},b),r=r={value:e},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):(function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o.push.apply(o,r)}return o})(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))}),o))}).catch(()=>k(t,b)):k(t,b)}j+=50},50);else{if(E.hasAttribute("data-value"))b.value=E.getAttribute("data-value");else{var A=E.parentNode.select(`#input_${t}`);A.first().getValue()&&(b.state="oldvalue",b.value=A.first().getValue())}JotForm.debug&&console.log("Sending normal ready message",b),k(t,b)}}function T(e){var t=document.createElement("textarea");return t.textContent=e,t.innerHTML}(I.indexOf("offline_forms=true")>-1||I.indexOf("offline_forms=si")>-1)&&"v2"===v&&C(JSON.stringify({type:"theme",themeVersion:v,isExtendedTheme:k}),e),window.JCFServerCommon.frames[e].sendReadyMessage=j,XD.receiveMessage(t=>{if(S(t.data)){var o=JSON.parse(t.data);if(JotForm.debug&&console.log("Data from widget",o.qid,o),parseInt(e)===parseInt(o.qid))if("submit"===o.type){let e=h.validationEvent;if(JotForm.debug&&console.log("widget submit",document.getElementById(`input_${o.qid}`)),document.getElementById(`input_${o.qid}`)){JotForm.debug&&!o.value&&(console.log("received Data ",o),o.value=document.getElementById(`input_${o.qid}`).value),"number"==typeof o.value&&(o.value=`${o.value}`);var r=$(document.getElementById(`input_${o.qid}`)).hasClassName("widget-required")||$(document.getElementById(`input_${o.qid}`)).hasClassName("validate[required]"),i=document.getElementById(`input_${o.qid}`),n=i.up(".form-line"),l=function(e){let t=!!("string"==typeof e&&e.match(/^data:image\/png;base64/ig)),o=!!~e.indexOf("widget_metadata"),r=S(e);return t||o||r},s=JotForm.isVisible(n),m=!(n.hasClassName("form-field-hidden")||i.hasClassName("always-hidden"))&&!!s;if(r)if(JotForm.debug&&console.log(o.qid,"isVisible",m),m&&"valid"in o&&(!1===o.valid||!0===o.valid&&!o.value)){if(e&&(e.valid=!1),q(o.qid)?(i.setValue(""),JotForm.debug&&console.log("LogA: Setting empty input value for",o.qid,o)):JotForm.debug&&console.log("LogA: Setting nothing because isn't ready",o.qid,o),!i.getValue()){var f=(JotForm.texts&&JotForm.texts.required?JotForm.texts.required:a.required)||"This field is required";void 0!==o.error&&!1!==o.error&&(f=o.error.hasOwnProperty("msg")?o.error.msg:f),JotForm.debug&&console.log("Errored required element",i,o),JotForm.errored(i,f)}}else if(m&&!JotForm.isCollapsed(i)&&(JotForm.debug&&console.log("Correcting required element",i,o),JotForm.corrected(i)),m||!0!==o.valid||(JotForm.debug&&console.log("Correcting not visible element but valid",i,o),JotForm.corrected(i)),q(o.qid))if(void 0!==o.value){var y=o.value;JotForm.isEncrypted&&o.value&&!l(o.value)&&"JF-CSE-V2"!==JotForm.encryptionProtocol&&(y=JotEncrypted.encrypt(o.value)),i.setValue(T(y)),JotForm.debug&&console.log("LogB: Setting input value for",o.qid,o)}else i.setValue(""),JotForm.debug&&console.log("LogC: Setting input value for",o.qid,o);else JotForm.debug&&console.log("LogA: Widget frame not ready, no value set",o.qid,o);else if(void 0!==o)if("value"in o)if(q(o.qid)){var y=o.value;JotForm.isEncrypted&&o.value&&!l(o.value)&&"JF-CSE-V2"!==JotForm.encryptionProtocol&&(y=JotEncrypted.encrypt(o.value)),i.setValue(T(y))}else JotForm.debug&&console.log("LogB: Widget frame not ready, no value set",o.qid,o);else i.hasClassName("widget-static")&&(i.setValue(""),i.removeAttribute("name"));i&&n&&n.hasClassName("form-field-hidden")&&"disable"===JotForm.clearFieldOnHide&&i.setValue(""),0>JCFServerCommon.submitFrames.indexOf(parseInt(o.qid))&&(m&&r&&!o.valid?(e&&(e.valid=!1),JotForm.debug&&console.log("Waiting for frame submission, required but not valid",o.qid)):JCFServerCommon.submitFrames.push(parseInt(o.qid)))}for(var b=$$(".widget-required, .widget-errored"),F=!0,O=0;O<b.length;O++)0===b[O].value.length&&JotForm.isVisible(b[O])&&(F=!1);if(_)e&&(e.valid=!1);else if(JotForm.debug&&console.log("next page",_,x(),F),(x()||JotForm.EventObserver)&&F){e&&(e.valid=!0),JotForm.debug&&console.log("sendSubmit",_,F);var k=void 0==JotForm.forms[0]||void 0===JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0],I=!!~window.location.href.indexOf("/edit/")||window.location.search.match("inlineEdit|edit"),A=["stripe","braintree","square","wepay","eway","bluepay","moneris","paypalcomplete","mollie","stripeACHManual","pagseguro"];"subscription"===window.paymentType&&"paypalcomplete"===JotForm.payment&&A.splice(A.indexOf("paypalcomplete"),1),(()=>{if(!JotForm.EventObserver||!h.allWidgetsSubmitted)return;let e=h.allWidgetsSubmittedEvent;e&&(e.valid||(JotForm.debug&&console.log(`client.js: widget_${w.id} (${w.widgetName}) will set allWidgetsEvent to:`,!0),e.valid=!0))})(),!(JotForm.payment&&A.indexOf(JotForm.payment)>-1&&JotForm.isPaymentSelected()&&JotForm.paymentTotal>0&&!I||JotForm.isEncrypted||JotForm.disableSubmitButton||window.offlineForm)&&($$('.custom-field-frame[data-type="iframe"]').length===JCFServerCommon.submitFrames.length?(JotForm.debug&&console.log("All frames submitted",JCFServerCommon.submitFrames),JotForm.EventObserver||g(k)):JotForm.debug&&console.log("Not all frames submitted",JCFServerCommon.submitFrames))}else e&&(e.valid=!1),JotForm.enableButtons(),JotForm.showButtonMessage(),JCFServerCommon.submitFrames=[]}else if("calcvalue"===o.type){let e=document.getElementById(`input_${o.qid}`);e&&e.setAttribute("data-calc",o.value)}else if("data"===o.type){try{var N=document.getElementById(`input_${o.qid}`);N&&(N.value=o.value,N.triggerEvent&&N.triggerEvent("change"),o.value&&v&&"v2"===v&&JotForm.corrected(N))}catch(e){console.log(e)}JotForm.triggerWidgetCondition(o.qid),JotForm.triggerWidgetCalculation(o.qid)}else if("errors"===o.type){var D=document.getElementById(`input_${o.qid}`);"show"===o.action?JotForm.isVisible(D)&&(JotForm.corrected(D),D.value="",D.addClassName("widget-errored"),JotForm.errored(D,o.msg),"resetForm"in o&&!0===o.resetForm&&JotForm.enableButtons()):"hide"===o.action&&(D.removeClassName("widget-errored"),JotForm.corrected(D))}else if("required"===o.type){var D=document.getElementById(`input_${o.qid}`);"set"!==o.action||D.hasClassName("widget-required")?"unset"===o.action&&(D.removeClassName("widget-required"),JotForm.corrected(D)):D.addClassName("widget-required")}else if("form:trackerID"===o.type)C(JSON.stringify({eventID:o.eventID,type:"event:receiver",data:$$('[name="event_id"]')[0]?$$('[name="event_id"]')[0].value:""}),o.qid);else if("size"===o.type){var{width:M}=o,{height:B}=o;null!=M&&(0===Number(M)&&(M="auto"),"number"==typeof M&&(M=`${M}px`),document.getElementById(`customFieldFrame_${o.qid}`).style.width=M),null!=B&&(Number(0===B)&&(B="auto"),"number"==typeof B&&(B=`${B}px`),document.getElementById(`customFieldFrame_${o.qid}`).style.height=B,void 0!==E()&&(document.getElementById(`cid_${o.qid}`).style.height=B)),JotForm.iframeHeightCaller()}else if("styles"===o.type)"styles"in o&&!J(o.styles)&&$(`customFieldFrame_${o.qid}`).setStyle(o.styles);else if("replace"===o.type)try{var{inputType:P}=o,{isMobile:L}=o,V=o.required,W=$(`customFieldFrame_${o.qid}`).up(),R=$(`input_${o.qid}`).readAttribute("name");$(`customFieldFrame_${o.qid}`).remove(),$(`input_${o.qid}`).up().remove();var z="",H=V?"validate[required] widget-required widget-replaced":"";switch(P){case"control_fileupload":var k=void 0==JotForm.forms[0]||void 0===JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];k.setAttribute("enctype","multipart/form-data"),L||(H=""===H?"validate[upload]":H,z=`<input class="form-upload ${H}" type="file" id="input_${o.qid}" name="${R}" file-accept="pdf, doc, docx, xls, xlsx, csv, txt, rtf, html, zip, mp3, wma, mpg, flv, avi, jpg, jpeg, png, gif"file-maxsize="10240">`),W.insert(z);break;case"control_textbox":z=`<input class="form-textbox ${H}" type="text" data-type-"input-textbox" id="input_${o.qid}" name="${R}">`,W.insert(z);break;case"control_textarea":z=`<textarea class="form-textarea ${H}" type="text" id="input_${o.qid}" name="${R}" cols="40" rows="6"></textarea>`,W.insert(z)}}catch(e){console.log(e)}else if("event:listener"===o.type){var U=document.getElementById(o.field);if(U&&["keyup","change"].indexOf(o.event)>-1){JotForm.debug&&console.log("Event registered from ",o.qid);var X,Y=function(e){var t=e.target.value;t=void 0!==t?t:"",JotForm.debug&&console.log("Handler for ",o.qid,"triggered",t,e.target.id),e.target.id===o.field&&(JotForm.debug&&console.log("event:receiver: Sending message to ",o.qid,"with value",t),C(JSON.stringify({eventID:o.eventID,type:"event:receiver",value:t}),o.qid))};Event.observe(U,o.event,"keyup"===o.event?(X=null,function(){var e=this,t=arguments;clearTimeout(X),X=setTimeout(()=>{Y.apply(e,t)},100)}):Y)}}else if("event:store"===o.type){var U=document.getElementById(o.field);if(U){var G=$(o.field).up(".form-line").id.split("_")[1],Q={eventID:o.eventID,type:"event:receiver",value:o.value};"widget"===JotForm.getInputType(G)||"isWidget"in o&&o.isWidget?(window.console&&"warn"in console&&console.warn("Sending value to destination(widget) from a source(widget) is not recommended."),delete Q.eventID,Q.field=o.field,Q.isWidget=!0,Q.targetQID=G,JotForm.debug&&console.log("Sending data to widget field",G,Q),C(JSON.stringify(Q),G)):(U.setValue(o.value),"hasCallback"in o&&o.hasCallback&&(JotForm.debug&&console.log("Sending data to native field",o),C(JSON.stringify(Q),o.qid)))}}else if("field:hide"===o.type)$(`input_${o.qid}`).up(".form-line").hide(),window.FORM_MODE&&"cardform"==window.FORM_MODE&&window.CardForm.setCardVisibility(window.CardForm.cards.filter(e=>e.question.id==o.qid)[0],!1);else if("field:invisible"===o.type){var Z,K=document.getElementById(`input_${o.qid}`);K&&(Z=K.closest(".form-line"))&&(Z.style.cssText="opacity: 0;height: 0;margin: 0;padding: 0;width: 0 !important;"),window.FORM_MODE&&"cardform"==window.FORM_MODE&&window.CardForm.setCardVisibility(window.CardForm.cards.filter(e=>e.question.id==o.qid)[0],!1)}else if("reset"===o.type)j(o.qid,o.type);else if("field:show"===o.type)$(`input_${o.qid}`).up(".form-line").show();else if("fields:capture"===o.type){var ee=["control_textbox","control_textarea","control_dropdown","control_datetime","control_phone","control_fullname","control_hidden","control_email"],et=[];o.fields.forEach(e=>{var t,r,i="";if(e.match(/\[\w+\]/)){var n=$$(`[name$="_${e}"]`)[0]||!1;n&&(i="SELECT"===n.tagName?n.getSelected().value:n.value,t=n.up("li.form-line"),r=n.up("li.form-line").getAttribute("data-type"))}else{if("name"===o.identifier?$$(".form-textbox, .form-dropdown, .form-textarea, .form-hidden").some(o=>{if(o.name.match(RegExp(`(${e}$)|(${e}\\[)`)))return t=o.up("li")}):t=$(`id_${e}`),r=t?t.getAttribute("data-type"):"",!t||-1===ee.indexOf(r))return void et.push({selector:e,value:""});i=$$(`#${t.id} input, #${t.id} select, #${t.id} textarea`).map(e=>e.id==`lite_mode_${t.id}`?"":"SELECT"===e.tagName?e.getSelected().value:e.value).filter(e=>!!e),"control_datetime"===r&&t.down("[id*=lite_mode_]")&&(i=t.down("[id*=lite_mode_]").value),i=i.length<=1?i[0]||"":i}if("object"==typeof i){var a=" ";switch(r){case"control_datetime":a=t.down(".date-separate")?t.down(".date-separate").innerHTML.replace(/\s|\&nbsp;/g,""):"/";break;case"control_phone":a="-"}i=i.join(a)}et.push({selector:e,value:i,type:r||""})}),C(JSON.stringify({eventID:o.eventID,type:"event:receiver",data:et}),o.qid)}else if("fields:fill"===o.type){var eo={};$$(".form-line").filter(e=>["control_textbox","control_scale","control_radio","control_checkbox","control_dropdown","control_rating","control_datetime","control_fullname","control_phone","control_birthdate","control_address","control_time","control_email","control_textarea","control_emojislider","control_yesno","control_number"].include(e.readAttribute("data-type"))).each((e,t)=>{var r,i=e.id.split("_")[1],n=e.readAttribute("data-type"),a=(window.FORM_MODE&&"cardform"==window.FORM_MODE?e.select(".jfQuestion-label").first():e.select(".form-label").first()).clone(!0),l=a.select(".form-required").first()||a.select(".jfRequiredStar").first();l&&l.remove();for(var s={name:"",value:"",items:"",text:(r=(a&&(a.innerText||a.textContent)||"").toLowerCase(),8===E()?r.replace(/^\s+|\s+$/g,""):r.trim()),type:n},d=0;d<o.fields.length;d++){var c=!1;if("label"===o.identifier){var u=(o.fields[d].label||"").toString().toLowerCase();c=s.text===u}else if("id"===o.identifier)c=Number(i)===Number(o.fields[d].id);else{console.error("Unknown identifier",o.identifier,"use the question label or qid");break}if(c&&$(`cid_${i}`)){var m=$(`cid_${i}`).select("input, select, textarea").first();if(m){s.name=m.readAttribute("name").replace(`q${i}_`,""),s.value=o.fields[d].value;var f=o.fields[d].items?o.fields[d].items:p().generateCtrlItems(n,s.value);J(f)||(s.items=f),i in eo||(eo[i]={}),eo[i]=s}break}}}),J(eo)||(JotForm.debug&&console.log("data props",eo),p().parse(eo)),JotForm.runAllCalculations()}else if("fields:clear"===o.type){var er=[];o.fields=o.fields.map(e=>e.toLowerCase()),$$(".form-label, .jfQuestion-label").each(e=>{var t=e.clone(!0),r=t.select(".form-required, .jfRequiredStar").first();r&&r.remove();var i=t.innerText.trim().toLowerCase();if(o.fields.indexOf(i)>-1){var n=e.id.match(/_(\d+)$/)[1]||"",a=e.up(".form-line").getAttribute("data-type")||"";n&&a&&er.push({qid:n,type:a})}});try{p().clear(er)}catch(e){console.error(e)}}else if("submit:frame:remove"===o.type){if(JCFServerCommon.submitFrames.length>0){var ei=JCFServerCommon.submitFrames.indexOf(parseInt(o.qid));ei>=0&&JCFServerCommon.submitFrames.splice(ei,1)}}else if("frame:move"===o.type){var en=document.body.getBoundingClientRect().top,ea=d.getBoundingClientRect().top-en,el=d.up("ul.form-section.page-section");if(el){var es=el.getHeight();new MutationObserver(e=>{if(JotForm.isVisible(d)&&el.getHeight()!==es){var t=d.getBoundingClientRect().top-en;Math.abs(ea-t)>5&&(es=el.getHeight(),ea=t,C(JSON.stringify({eventID:o.eventID,type:"event:receiver",data:{position:ea}}),o.qid))}}).observe(el,{subtree:!0,attributes:!0,attributeFilter:["class","style"]})}}else if("frame:getdata"===o.type){var ed=0,ec=0,eu=0;("cardform"==window.FORM_MODE||"card"===window.buildermode)&&(ed=document.getElementById(`label_${e}`).clientHeight,ec=document.getElementsByClassName("jfCard-actions")[0].clientHeight,eu=document.querySelectorAll(".jfProgress, .no-animate")[0].clientHeight);var em={width:u,height:c,labelHeight:ed,actionHeight:ec,jfProgressHeight:eu};C(JSON.stringify({type:"event:receiver",eventID:o.eventID,frameData:em}),o.qid)}else"disableButtons"===o.type?JotForm.disableButtons():"enableButtons"===o.type&&JotForm.enableButtons()}},d.src.replace(/([^:]+:\/\/[^\/]+).*/,"$1")),d.addClassName("frame-xd-ready").store("frame-xd-ready",!0),JotForm.debug&&console.log("sending settings",O(),new Date().getTime()),C(JSON.stringify({type:"settings",settings:O()}),e),JotForm.debug&&console.log("sending form strings",a,new Date().getTime()),C(JSON.stringify({type:"formstrings",formTexts:a}),e);let A=JotForm.getSection(d),N=JotForm.isVisible(A),D=JotForm.isVisible(d),M=window.JotForm.isAdvancedDesigner,B=d.closest(".form-section-closed");var P=void 0==B;P||void 0==B.querySelector('[data-type="control_collapse"]')||(P=!0);let L=d&&N&&(D||M)&&P,V=JotForm.getWidgetType(e)&&JotForm.getWidgetType(e).includes("maskedInput");function W(t){if(null!==document.getElementById(`customFieldFrame_${e}`)){if(JotForm.EventObserver){h.validationEvent=t,t.valid=!1,_=!1,JotForm.debug&&console.log(`widget_${w.widgetName}_${e}: Recieved Form Submit event. Sending 'submit' postMessage to widget`),C(JSON.stringify({type:"submit",qid:e.toString()}),e);return}if($$(".form-submit-button")&&$$(".form-submit-button").length>0){var o=!1;$$(".form-submit-button").each(e=>{JotForm.isVisible(e.parentNode)&&(o=!0)}),t.stop(),o?(_=!1,JotForm.debug&&console.log("Form stopped from widget server event, submitting form from widge submit event"),C(JSON.stringify({type:"submit",qid:`${e}`}),`${e}`)):JotForm.enableButtons()}}}L||V?(JotForm.debug&&console.log("Frame widget object is visible",N,D,P),j(e)):document.get.jumpToPage&&(()=>{let t=parseInt(document.get.jumpToPage);if(!isNaN(t)&&A===$$(".form-section:not([id^=section_])")[t-1]){let o=setInterval(()=>{D&&(JotForm.debug&&console.log(`Form jump to widget page (${t}); sending ready message...`),j(e),clearInterval(o))},200)}})(),window.onresize=function(){C(JSON.stringify({type:"frameresize",frameSizes:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),e)};let R=w.widgetName?`${w.widgetName})-q${w.id}`:`q${w.id}`;Object.defineProperty(W,"name",{enumerable:!1,configurable:!1,writable:!1,value:`widget_${R}`}),y.addEventListener("submit",W),$$(".form-pagebreak-back").each(t=>{$(t).observe("click",function(){var t=$(this).up(".form-section").select(`#customFieldFrame_${e}`);t.length>0&&"5295629cba137d764f000004"===t[0].readAttribute("data-client-id")&&JotForm.disableWidget(e),JotForm.currentSection.down(`#customFieldFrame_${e}`)&&!q(e)&&(JotForm.debug&&console.log("Sending ready message to unready widget"),j(e))})}),$$(".form-pagebreak-next").each((t,o)=>{JotForm.debug&&console.log("Going to next page"),$(t).observe("click",function(t){F=this.up(".form-section"),_=!0,F.select(`#customFieldFrame_${e}`).length>0&&(JotForm.debug&&console.log("Sending submit message for iframe id",e,"from section",this.up(".form-section"),"and iframe",d),C(JSON.stringify({type:"submit",method:"next",qid:`${e}`}),`${e}`),Event.stop(t));var o=setInterval(()=>{(d=document.getElementById(`customFieldFrame_${e}`))?(F=$(d).up(".form-section"),JotForm.isVisible(F)&&JotForm.isVisible(d)?(clearInterval(o),JotForm.debug&&console.log("Sending ready message for iframe id",e,"from section",F),"5295629cba137d764f000004"===d.getAttribute("data-client-id")&&q(e)?JotForm.showWidget(e):j(e)):(JotForm.debug&&console.log("Section and frameObj not visible",F,d),clearInterval(o))):clearInterval(o)},100)})}),$(`input_${e}`)&&["widget:clear","widget:populate","widget:shift"].forEach(t=>{$(`input_${e}`).observe(t,e=>{var{qid:o}=e.memo,r={type:t.replace(":",""),qid:o};"widget:populate"==t&&(r.value=e.memo.value||""),C(JSON.stringify(r),o)})})};void 0===window.getIframeWindow&&(window.getIframeWindow=function(e){let t;return e.contentWindow?e.contentWindow:e.window?e.window:(!t&&e.contentDocument&&(t=e.contentDocument),!t&&e.document&&(t=e.document),t&&t.defaultView)?t.defaultView:t&&t.parentWindow?t.parentWindow:void 0}),void 0===window.XD&&(window.XD=(n=1,{postMessage:(e,t,o)=>{if(!t)return;let r=o||window.parent;if(window.postMessage){let o=t.replace(/([^:]+:\/\/[^/]+).*/,"$1");if("postMessage"in r||(r=window.getIframeWindow(r)),!r)return;0===o.indexOf("file://")&&(o="*"),r.postMessage(e,o)}else t&&(r.location=`${t.replace(/#.*$/,"")}#${+new Date}${n++}&${e}`)},receiveMessage:(o,r)=>{window.postMessage?(o&&(i=e=>{let t=window.location.search.split("?").join("");if(!(t.indexOf("offline_forms=true")>-1||t.indexOf("offline_forms=si")>-1)&&("string"==typeof r&&e.origin!==r||"[object Function]"===Object.prototype.toString.call(r)&&!1===r(e.origin)))return!1;o(e)}),window.addEventListener?window[o?"addEventListener":"removeEventListener"]("message",i,!1):window[o?"attachEvent":"detachEvent"]("onmessage",i)):(e&&clearInterval(e),e=null,o&&(e=setInterval(()=>{let{hash:e}=document.location,r=/^#?\d+&/;e!==t&&r.test(e)&&(t=e,o({data:e.replace(r,"")}))},100)))}})),window.getStyle||(window.getStyle=function(e,t){let o,{defaultView:r}=e.ownerDocument||document;if(r&&r.getComputedStyle)return t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r.getComputedStyle(e,null).getPropertyValue(t);if(e.currentStyle){if(t=t.replace(/-(\w)/g,(e,t)=>t.toUpperCase()),o=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(o)){var i=o;let t=e.style.left,r=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=i||0,i=`${e.style.pixelLeft}px`,e.style.left=t,e.runtimeStyle.left=r,i}return o}}),void 0===window.JCFServerCommon&&(window.JCFServerCommon={frames:{},func:{}}),window.widgetFrameLoaded=v;var w={widgetFrameLoaded:v}}(),r=r.default});
//# sourceMappingURL=for-widgets-server.js.map